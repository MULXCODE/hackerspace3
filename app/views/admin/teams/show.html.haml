%main.team_page
  %h2= @project.team_name
  %p Event: #{@event.name}
  %p Region: #{@region.name}
  - if @team.published
    %p Team Project is Published.
    = link_to 'Unpublish Team Project', admin_competition_team_path(@competition, @team, published: false), method: :patch
    %br/
  - else
    %p Team Project is not Published.
    = link_to 'Publish Team Project', admin_competition_team_path(@competition, @team, published: true), method: :patch
    %br/
  %h3 Project Version Management
  Project Version Count: #{@projects.count}
  %br/
  Current Version Created At: #{@project.created_at}
  %br/
  = link_to 'Project Management', admin_team_projects_path(@team)
  %h3 Team Participants
  - @team.assignments.each do |assignment|
    - user = assignment.user
    %div
      %p
        %strong
          Name: #{user.display_name}
      %p
        Title: #{assignment.title}
      %p
        Email: #{user.email}
  %h3
    Challenge Management
    %h3
      - @checkpoints.each do |checkpoint|
        %h4
          = checkpoint.name
          Checkpoint
        %h4 National Challenges
        = render 'challenge_category', locals:                   |
          { checkpoint: checkpoint,                              |
          type: NATIONAL,                                        |
          max_challenges: checkpoint.max_national_challenges,    |
          challenges: @team.national_challenges(checkpoint),     |
          available_challenges: @available_national_challenges } |
        %h4 Regional Challenges
        = render 'challenge_category', locals:                   |
          { checkpoint: checkpoint,                              |
          type: REGIONAL,                                        |
          max_challenges: checkpoint.max_regional_challenges,    |
          challenges: @team.regional_challenges(checkpoint),     |
          available_challenges: @available_regional_challenges } |
= link_to 'Back to Team Management', admin_competition_teams_path(@competition)
